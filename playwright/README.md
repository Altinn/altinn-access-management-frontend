# Get started with Playwright

Team Autorisasjon has adopted Playwright as key tool for automating end-to-end testing of Access-managment. This README.md is designed to guid you through the setup env and run tests against different test environment.

### Open Playwright and run tests

Run the below command to run Playwright tests with the environment in headless mode

```cmd
    yarn run env:AT22,
    yarn run env:AT23,
    yarn run env:AT24,
    yarn run env:TT02
```

#### Useful command line options

```
--timeout 10000: set general timeout for tests to override a long default if you want tests to fail quickly)
--repeat-each 20 --workers=1: (make sure a test is not flaky in combination with 1 worker to avoid test data complexity)
--debug: step by step mode
--grep "test name": match test name to only run specific test(s)
- full example: yarn run env:AT24 --grep "Delegate api to an organization by selecting from API" --timeout 10000 --repeat-each 20 --workers=1
```

Run the below command to run Playwright tests with the environment in UI mode

```cmd
    yarn run env:AT22 --ui
```

Run the below command to see playwright autogenerated report after passing test

```cmd
    yarn playwright show-report
```
